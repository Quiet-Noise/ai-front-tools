(function(K,p){typeof exports=="object"&&typeof module<"u"?p(exports,require("react")):typeof define=="function"&&define.amd?define(["exports","react"],p):(K=typeof globalThis<"u"?globalThis:K||self,p(K.N8nChatEmbed={},K.React))})(this,function(K,p){"use strict";var Ae={exports:{}},be={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var He;function dt(){if(He)return be;He=1;var c=p,s=Symbol.for("react.element"),d=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,h=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function v(k,_,P){var b,O={},z=null,f=null;P!==void 0&&(z=""+P),_.key!==void 0&&(z=""+_.key),_.ref!==void 0&&(f=_.ref);for(b in _)g.call(_,b)&&!o.hasOwnProperty(b)&&(O[b]=_[b]);if(k&&k.defaultProps)for(b in _=k.defaultProps,_)O[b]===void 0&&(O[b]=_[b]);return{$$typeof:s,type:k,key:z,ref:f,props:O,_owner:h.current}}return be.Fragment=d,be.jsx=v,be.jsxs=v,be}var ye={};/**
 * @license React
 * react-jsx-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ye;function ut(){return Ye||(Ye=1,process.env.NODE_ENV!=="production"&&function(){var c=p,s=Symbol.for("react.element"),d=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),h=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),v=Symbol.for("react.provider"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),b=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),R=Symbol.iterator,I="@@iterator";function D(e){if(e===null||typeof e!="object")return null;var r=R&&e[R]||e[I];return typeof r=="function"?r:null}var A=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function T(e){{for(var r=arguments.length,a=new Array(r>1?r-1:0),l=1;l<r;l++)a[l-1]=arguments[l];L("error",e,a)}}function L(e,r,a){{var l=A.ReactDebugCurrentFrame,j=l.getStackAddendum();j!==""&&(r+="%s",a=a.concat([j]));var E=a.map(function(x){return String(x)});E.unshift("Warning: "+r),Function.prototype.apply.call(console[e],console,E)}}var B=!1,M=!1,Q=!1,ae=!1,q=!1,ee;ee=Symbol.for("react.module.reference");function ne(e){return!!(typeof e=="string"||typeof e=="function"||e===g||e===o||q||e===h||e===P||e===b||ae||e===f||B||M||Q||typeof e=="object"&&e!==null&&(e.$$typeof===z||e.$$typeof===O||e.$$typeof===v||e.$$typeof===k||e.$$typeof===_||e.$$typeof===ee||e.getModuleId!==void 0))}function de(e,r,a){var l=e.displayName;if(l)return l;var j=r.displayName||r.name||"";return j!==""?a+"("+j+")":a}function ue(e){return e.displayName||"Context"}function U(e){if(e==null)return null;if(typeof e.tag=="number"&&T("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case d:return"Portal";case o:return"Profiler";case h:return"StrictMode";case P:return"Suspense";case b:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case k:var r=e;return ue(r)+".Consumer";case v:var a=e;return ue(a._context)+".Provider";case _:return de(e,e.render,"ForwardRef");case O:var l=e.displayName||null;return l!==null?l:U(e.type)||"Memo";case z:{var j=e,E=j._payload,x=j._init;try{return U(x(E))}catch{return null}}}return null}var J=Object.assign,X=0,fe,Ue,i,Pe,G,we,pe;function _e(){}_e.__reactDisabledLog=!0;function je(){{if(X===0){fe=console.log,Ue=console.info,i=console.warn,Pe=console.error,G=console.group,we=console.groupCollapsed,pe=console.groupEnd;var e={configurable:!0,enumerable:!0,value:_e,writable:!0};Object.defineProperties(console,{info:e,log:e,warn:e,error:e,group:e,groupCollapsed:e,groupEnd:e})}X++}}function Ie(){{if(X--,X===0){var e={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:J({},e,{value:fe}),info:J({},e,{value:Ue}),warn:J({},e,{value:i}),error:J({},e,{value:Pe}),group:J({},e,{value:G}),groupCollapsed:J({},e,{value:we}),groupEnd:J({},e,{value:pe})})}X<0&&T("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Re=A.ReactCurrentDispatcher,me;function se(e,r,a){{if(me===void 0)try{throw Error()}catch(j){var l=j.stack.trim().match(/\n( *(at )?)/);me=l&&l[1]||""}return`
`+me+e}}var he=!1,oe;{var Oe=typeof WeakMap=="function"?WeakMap:Map;oe=new Oe}function ke(e,r){if(!e||he)return"";{var a=oe.get(e);if(a!==void 0)return a}var l;he=!0;var j=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var E;E=Re.current,Re.current=null,je();try{if(r){var x=function(){throw Error()};if(Object.defineProperty(x.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(x,[])}catch(V){l=V}Reflect.construct(e,[],x)}else{try{x.call()}catch(V){l=V}e.call(x.prototype)}}else{try{throw Error()}catch(V){l=V}e()}}catch(V){if(V&&l&&typeof V.stack=="string"){for(var y=V.stack.split(`
`),W=l.stack.split(`
`),N=y.length-1,F=W.length-1;N>=1&&F>=0&&y[N]!==W[F];)F--;for(;N>=1&&F>=0;N--,F--)if(y[N]!==W[F]){if(N!==1||F!==1)do if(N--,F--,F<0||y[N]!==W[F]){var H=`
`+y[N].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),typeof e=="function"&&oe.set(e,H),H}while(N>=1&&F>=0);break}}}finally{he=!1,Re.current=E,Ie(),Error.prepareStackTrace=j}var ve=e?e.displayName||e.name:"",le=ve?se(ve):"";return typeof e=="function"&&oe.set(e,le),le}function Ee(e,r,a){return ke(e,!1)}function We(e){var r=e.prototype;return!!(r&&r.isReactComponent)}function ie(e,r,a){if(e==null)return"";if(typeof e=="function")return ke(e,We(e));if(typeof e=="string")return se(e);switch(e){case P:return se("Suspense");case b:return se("SuspenseList")}if(typeof e=="object")switch(e.$$typeof){case _:return Ee(e.render);case O:return ie(e.type,r,a);case z:{var l=e,j=l._payload,E=l._init;try{return ie(E(j),r,a)}catch{}}}return""}var n=Object.prototype.hasOwnProperty,m={},u=A.ReactDebugCurrentFrame;function w(e){if(e){var r=e._owner,a=ie(e.type,e._source,r?r.type:null);u.setExtraStackFrame(a)}else u.setExtraStackFrame(null)}function C(e,r,a,l,j){{var E=Function.call.bind(n);for(var x in e)if(E(e,x)){var y=void 0;try{if(typeof e[x]!="function"){var W=Error((l||"React class")+": "+a+" type `"+x+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof e[x]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw W.name="Invariant Violation",W}y=e[x](r,x,l,a,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(N){y=N}y&&!(y instanceof Error)&&(w(j),T("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",a,x,typeof y),w(null)),y instanceof Error&&!(y.message in m)&&(m[y.message]=!0,w(j),T("Failed %s type: %s",a,y.message),w(null))}}}var S=Array.isArray;function te(e){return S(e)}function Te(e){{var r=typeof Symbol=="function"&&Symbol.toStringTag,a=r&&e[Symbol.toStringTag]||e.constructor.name||"Object";return a}}function re(e){try{return $(e),!1}catch{return!0}}function $(e){return""+e}function Me(e){if(re(e))return T("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",Te(e)),$(e)}var Z=A.ReactCurrentOwner,Se={key:!0,ref:!0,__self:!0,__source:!0},ce,De,Ce;Ce={};function Ne(e){if(n.call(e,"ref")){var r=Object.getOwnPropertyDescriptor(e,"ref").get;if(r&&r.isReactWarning)return!1}return e.ref!==void 0}function Et(e){if(n.call(e,"key")){var r=Object.getOwnPropertyDescriptor(e,"key").get;if(r&&r.isReactWarning)return!1}return e.key!==void 0}function Tt(e,r){if(typeof e.ref=="string"&&Z.current&&r&&Z.current.stateNode!==r){var a=U(Z.current.type);Ce[a]||(T('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',U(Z.current.type),e.ref),Ce[a]=!0)}}function St(e,r){{var a=function(){ce||(ce=!0,T("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};a.isReactWarning=!0,Object.defineProperty(e,"key",{get:a,configurable:!0})}}function Ct(e,r){{var a=function(){De||(De=!0,T("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",r))};a.isReactWarning=!0,Object.defineProperty(e,"ref",{get:a,configurable:!0})}}var Nt=function(e,r,a,l,j,E,x){var y={$$typeof:s,type:e,key:r,ref:a,props:x,_owner:E};return y._store={},Object.defineProperty(y._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(y,"_self",{configurable:!1,enumerable:!1,writable:!1,value:l}),Object.defineProperty(y,"_source",{configurable:!1,enumerable:!1,writable:!1,value:j}),Object.freeze&&(Object.freeze(y.props),Object.freeze(y)),y};function Ft(e,r,a,l,j){{var E,x={},y=null,W=null;a!==void 0&&(Me(a),y=""+a),Et(r)&&(Me(r.key),y=""+r.key),Ne(r)&&(W=r.ref,Tt(r,j));for(E in r)n.call(r,E)&&!Se.hasOwnProperty(E)&&(x[E]=r[E]);if(e&&e.defaultProps){var N=e.defaultProps;for(E in N)x[E]===void 0&&(x[E]=N[E])}if(y||W){var F=typeof e=="function"?e.displayName||e.name||"Unknown":e;y&&St(x,F),W&&Ct(x,F)}return Nt(e,y,W,j,l,Z.current,x)}}var Be=A.ReactCurrentOwner,at=A.ReactDebugCurrentFrame;function ge(e){if(e){var r=e._owner,a=ie(e.type,e._source,r?r.type:null);at.setExtraStackFrame(a)}else at.setExtraStackFrame(null)}var Ve;Ve=!1;function $e(e){return typeof e=="object"&&e!==null&&e.$$typeof===s}function nt(){{if(Be.current){var e=U(Be.current.type);if(e)return`

Check the render method of \``+e+"`."}return""}}function Pt(e){{if(e!==void 0){var r=e.fileName.replace(/^.*[\\\/]/,""),a=e.lineNumber;return`

Check your code at `+r+":"+a+"."}return""}}var st={};function It(e){{var r=nt();if(!r){var a=typeof e=="string"?e:e.displayName||e.name;a&&(r=`

Check the top-level render call using <`+a+">.")}return r}}function ot(e,r){{if(!e._store||e._store.validated||e.key!=null)return;e._store.validated=!0;var a=It(r);if(st[a])return;st[a]=!0;var l="";e&&e._owner&&e._owner!==Be.current&&(l=" It was passed a child from "+U(e._owner.type)+"."),ge(e),T('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',a,l),ge(null)}}function it(e,r){{if(typeof e!="object")return;if(te(e))for(var a=0;a<e.length;a++){var l=e[a];$e(l)&&ot(l,r)}else if($e(e))e._store&&(e._store.validated=!0);else if(e){var j=D(e);if(typeof j=="function"&&j!==e.entries)for(var E=j.call(e),x;!(x=E.next()).done;)$e(x.value)&&ot(x.value,r)}}}function Ot(e){{var r=e.type;if(r==null||typeof r=="string")return;var a;if(typeof r=="function")a=r.propTypes;else if(typeof r=="object"&&(r.$$typeof===_||r.$$typeof===O))a=r.propTypes;else return;if(a){var l=U(r);C(a,e.props,"prop",l,e)}else if(r.PropTypes!==void 0&&!Ve){Ve=!0;var j=U(r);T("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",j||"Unknown")}typeof r.getDefaultProps=="function"&&!r.getDefaultProps.isReactClassApproved&&T("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Mt(e){{for(var r=Object.keys(e.props),a=0;a<r.length;a++){var l=r[a];if(l!=="children"&&l!=="key"){ge(e),T("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",l),ge(null);break}}e.ref!==null&&(ge(e),T("Invalid attribute `ref` supplied to `React.Fragment`."),ge(null))}}var ct={};function lt(e,r,a,l,j,E){{var x=ne(e);if(!x){var y="";(e===void 0||typeof e=="object"&&e!==null&&Object.keys(e).length===0)&&(y+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var W=Pt(j);W?y+=W:y+=nt();var N;e===null?N="null":te(e)?N="array":e!==void 0&&e.$$typeof===s?(N="<"+(U(e.type)||"Unknown")+" />",y=" Did you accidentally export a JSX literal instead of a component?"):N=typeof e,T("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",N,y)}var F=Ft(e,r,a,j,E);if(F==null)return F;if(x){var H=r.children;if(H!==void 0)if(l)if(te(H)){for(var ve=0;ve<H.length;ve++)it(H[ve],e);Object.freeze&&Object.freeze(H)}else T("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else it(H,e)}if(n.call(r,"key")){var le=U(e),V=Object.keys(r).filter(function(Wt){return Wt!=="key"}),Xe=V.length>0?"{key: someKey, "+V.join(": ..., ")+": ...}":"{key: someKey}";if(!ct[le+Xe]){var Ut=V.length>0?"{"+V.join(": ..., ")+": ...}":"{}";T(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Xe,le,Ut,le),ct[le+Xe]=!0}}return e===g?Mt(F):Ot(F),F}}function Dt(e,r,a){return lt(e,r,a,!0)}function At(e,r,a){return lt(e,r,a,!1)}var zt=At,Lt=Dt;ye.Fragment=g,ye.jsx=zt,ye.jsxs=Lt}()),ye}process.env.NODE_ENV==="production"?Ae.exports=dt():Ae.exports=ut();var t=Ae.exports;/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ft=c=>c.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),pt=c=>c.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,d,g)=>g?g.toUpperCase():d.toLowerCase()),Ke=c=>{const s=pt(c);return s.charAt(0).toUpperCase()+s.slice(1)},Je=(...c)=>c.filter((s,d,g)=>!!s&&s.trim()!==""&&g.indexOf(s)===d).join(" ").trim(),mt=c=>{for(const s in c)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=p.forwardRef(({color:c="currentColor",size:s=24,strokeWidth:d=2,absoluteStrokeWidth:g,className:h="",children:o,iconNode:v,...k},_)=>p.createElement("svg",{ref:_,...ht,width:s,height:s,stroke:c,strokeWidth:g?Number(d)*24/Number(s):d,className:Je("lucide",h),...!o&&!mt(k)&&{"aria-hidden":"true"},...k},[...v.map(([P,b])=>p.createElement(P,b)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y=(c,s)=>{const d=p.forwardRef(({className:g,...h},o)=>p.createElement(gt,{ref:o,iconNode:s,className:Je(`lucide-${ft(Ke(c))}`,`lucide-${c}`,g),...h}));return d.displayName=Ke(c),d};/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vt=Y("camera",[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Y("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=Y("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yt=Y("message-circle",[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=Y("mic",[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xt=Y("paperclip",[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=Y("send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qe=Y("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=Y("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=Y("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.540.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xe=Y("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jt=c=>{let s=c;const d={};let g=0;return s=s.replace(/\[([^\]]+)\]\(([^)]+)\)/g,(h,o,v)=>{const k=encodeURI(v.trim()),_=`XXXXXURLPLACEHOLDER${g++}XXXXX`;return d[_]=`<a href="${k}" target="_blank" rel="noopener noreferrer">${o}</a>`,_}),s=s.replace(/(https?:\/\/[^\s<]+)/g,(h,o)=>{const v=encodeURI(o.trim()),k=`XXXXXURLPLACEHOLDER${g++}XXXXX`;return d[k]=`<a href="${v}" target="_blank" rel="noopener noreferrer">${o}</a>`,k}),s=s.replace(/\*\*((?:(?!\*\*).)+)\*\*/g,"<strong>$1</strong>"),s=s.replace(/__((?:(?!__).)+)__/g,"<strong>$1</strong>"),s=s.replace(/\*([^*\n]+?)\*/g,"<em>$1</em>"),s=s.replace(new RegExp("(?<!_)_([^_\\n]+?)_(?!_)","g"),"<em>$1</em>"),s=s.replace(/\n/g,"<br>"),Object.keys(d).forEach(h=>{s=s.replace(h,d[h])}),s},ze=({message:c,showTimestamp:s=!1})=>{const d=c.type==="user",g=(h,o)=>{switch(h.type){case"image":return t.jsx("img",{src:h.url,alt:h.name,className:"message-media-image",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"8px",marginTop:"8px"}},o);case"video":return t.jsx("video",{src:h.url,controls:!0,className:"message-media-video",style:{maxWidth:"200px",maxHeight:"150px",borderRadius:"8px",marginTop:"8px"}},o);case"audio":return t.jsx("div",{className:"message-media-audio",style:{marginTop:"8px"},children:t.jsx("audio",{src:h.url,controls:!0,style:{width:"200px"}})},o);default:return t.jsxs("div",{className:"message-media-document",style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px",backgroundColor:"rgba(0,0,0,0.1)",borderRadius:"8px",marginTop:"8px",maxWidth:"200px"},children:[t.jsx(Ge,{size:16}),t.jsx("span",{style:{fontSize:"14px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:h.name})]},o)}};return t.jsxs("div",{className:`message-bubble ${d?"user":"bot"}`,children:[t.jsxs("div",{className:"message-content",children:[c.content.trim()&&(d?t.jsx("p",{children:c.content}):t.jsx("p",{dangerouslySetInnerHTML:{__html:jt(c.content)}})),c.files&&c.files.map((h,o)=>g(h,o))]}),s&&t.jsx("div",{className:"message-timestamp",children:c.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},Le=({visible:c})=>c?t.jsx("div",{className:"typing-indicator",children:t.jsxs("div",{className:"typing-indicator__content",children:[t.jsx("span",{className:"typing-indicator__dot"}),t.jsx("span",{className:"typing-indicator__dot"}),t.jsx("span",{className:"typing-indicator__dot"})]})}):null,qe=({onFilesSelected:c,maxFiles:s,maxFileSize:d,allowedTypes:g})=>{const h=p.useRef(null),o=()=>`${Date.now()}-${Math.random()}`,v=f=>f.type.startsWith("image/")?"image":f.type.startsWith("video/")?"video":f.type.startsWith("audio/")?"audio":"document",k=async(f,R=1)=>new Promise(I=>{const D=document.createElement("canvas"),A=D.getContext("2d"),T=new Image;T.onload=()=>{let{width:L,height:B}=T;const M=1920;L>B&&L>M?(B=B*M/L,L=M):B>M&&(L=L*M/B,B=M),D.width=L,D.height=B,A==null||A.drawImage(T,0,0,L,B);let Q=.8;const ae=()=>{D.toBlob(q=>{if(q)if(q.size/1048576>R&&Q>.1)Q-=.1,ae();else{const ne=new File([q],f.name,{type:"image/jpeg",lastModified:Date.now()});I(ne)}else I(f)},"image/jpeg",Q)};ae()},T.onerror=()=>I(f),T.src=URL.createObjectURL(f)}),_=async f=>{const I=f.size/1048576;if(I<=1)return f;if(f.type.startsWith("image/"))try{return await k(f,1)}catch(D){return console.warn("Image compression failed, using original:",D),f}return I>1&&console.warn(`File ${f.name} is ${I.toFixed(1)}MB, which may be too large`),f},P=async f=>{const R=await _(f);return{file:R,id:o(),type:v(R),url:URL.createObjectURL(R),name:f.name,size:R.size}},b=f=>f.size>d*1024*1024?(alert(`File ${f.name} is too large. Maximum size is ${d}MB.`),!1):g.length>0&&!g.some(I=>I==="*"||f.type.includes(I)||f.name.endsWith(I))?(alert(`File type not allowed: ${f.type}`),!1):!0,O=async f=>{if(!f)return;const R=[],I=Array.from(f);for(const D of I){if(R.length>=s){alert(`Maximum ${s} files allowed`);break}if(b(D))try{const A=await P(D);R.push(A)}catch(A){console.error("Error processing file:",D.name,A),alert(`Error processing file: ${D.name}`)}}R.length>0&&c(R),h.current&&(h.current.value="")},z=()=>{var f;(f=h.current)==null||f.click()};return t.jsxs("div",{className:"file-upload",children:[t.jsx("input",{ref:h,type:"file",multiple:!0,accept:g.length>0?g.join(","):"*",onChange:f=>O(f.target.files),style:{display:"none"}}),t.jsx("button",{onClick:z,className:"upload-button",title:"Attach files",children:t.jsx(xt,{size:18})})]})},et=({files:c,onRemoveFile:s})=>{if(c.length===0)return null;const d=o=>{if(o===0)return"0 B";const v=1024,k=["B","KB","MB","GB"],_=Math.floor(Math.log(o)/Math.log(v));return parseFloat((o/Math.pow(v,_)).toFixed(1))+" "+k[_]},g=o=>{switch(o){case"image":return t.jsx(bt,{size:16});case"video":return t.jsx(wt,{size:16});case"audio":return t.jsx(_t,{size:16});default:return t.jsx(Ge,{size:16})}},h=o=>{switch(o.type){case"image":return t.jsx("img",{src:o.url,alt:o.name,className:"media-preview-image"});case"video":return t.jsx("video",{src:o.url,className:"media-preview-video",controls:!0,preload:"metadata"});case"audio":return t.jsx("audio",{src:o.url,className:"media-preview-audio",controls:!0,preload:"metadata"});default:return t.jsxs("div",{className:"media-preview-document",children:[g(o.type),t.jsx("span",{className:"document-name",children:o.name})]})}};return t.jsx("div",{className:"media-preview",children:t.jsx("div",{className:"media-preview-list",children:c.map(o=>t.jsxs("div",{className:"media-preview-item",children:[t.jsx("div",{className:"media-preview-content",children:h(o)}),t.jsxs("div",{className:"media-preview-info",children:[t.jsxs("div",{className:"media-preview-details",children:[t.jsx("span",{className:"file-name",title:o.name,children:o.name.length>20?`${o.name.substring(0,20)}...`:o.name}),t.jsx("span",{className:"file-size",children:d(o.size)})]}),t.jsx("button",{onClick:()=>s(o.id),className:"remove-file-button",title:"Remove file",children:t.jsx(xe,{size:14})})]})]},o.id))})})},Rt=({isOpen:c,onClick:s,position:d,primaryColor:g,popupMessage:h="How can I help you?"})=>{const[o,v]=p.useState(!1);p.useEffect(()=>{const b=sessionStorage.getItem("n8n-chat-popup-shown");if(!c&&!b){const O=setTimeout(()=>{v(!0)},5e3);return()=>clearTimeout(O)}else v(!1)},[c]);const k=()=>{v(!1),s()},_=()=>{v(!1),sessionStorage.setItem("n8n-chat-popup-shown","true"),s()},P=b=>{b.stopPropagation(),v(!1),sessionStorage.setItem("n8n-chat-popup-shown","true")};return t.jsxs("div",{className:`chat-toggle-container chat-toggle-button--${d}`,children:[o&&!c&&t.jsxs("div",{className:`chat-popup-message chat-popup-message--${d}`,onClick:_,children:[t.jsx("div",{className:"chat-popup-content",children:h}),t.jsx("button",{className:"chat-popup-close",onClick:P,children:"×"})]}),t.jsx("button",{onClick:k,className:"chat-toggle-button",style:{backgroundColor:g,"--chat-primary":g},"aria-label":c?"Close chat":"Open chat",children:c?t.jsx(xe,{size:24,className:"toggle-icon"}):t.jsx(yt,{size:24,className:"toggle-icon"})})]})};function tt(){const c=window.innerWidth,s=window.innerHeight,d=navigator.userAgent.toLowerCase(),g="ontouchstart"in window||navigator.maxTouchPoints>0,h=c<768,o=g||h,v=d.includes("arc")||d.includes("company.thebrowser.browser")||window.ArcBrowser!==void 0,k=/safari/.test(d)&&!/chrome/.test(d)&&!v,_=/chrome/.test(d)&&!v,P=!!window.visualViewport;return{isMobile:o,isDesktop:!o,screenWidth:c,screenHeight:s,isArc:v,isSafari:k,isChrome:_,supportsVisualViewport:P}}function rt(){const[c,s]=p.useState(()=>typeof window>"u"?{isMobile:!1,isDesktop:!0,screenWidth:1024,screenHeight:768,isArc:!1,isSafari:!1,isChrome:!1,supportsVisualViewport:!1}:tt());return p.useEffect(()=>{const d=()=>{s(tt())};return window.addEventListener("resize",d),window.addEventListener("orientationchange",d),()=>{window.removeEventListener("resize",d),window.removeEventListener("orientationchange",d)}},[]),c}const kt=({config:c,onMessage:s,onError:d,onClose:g})=>{const[h,o]=p.useState([]),[v,k]=p.useState(""),[_,P]=p.useState(!1),[b,O]=p.useState(!1),[z,f]=p.useState(c.initialState!=="closed"),[R,I]=p.useState([]),[D]=p.useState(()=>{let n=localStorage.getItem("n8n_session_id");return n||(n="session_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),localStorage.setItem("n8n_session_id",n)),n}),[A,T]=p.useState(!1),[L,B]=p.useState(!1),[M,Q]=p.useState(null),[ae,q]=p.useState(0),[ee,ne]=p.useState(null),de=rt(),ue=p.useRef(null),U=p.useRef(null),J=p.useRef(null),X=p.useRef(null),fe=p.useRef(null),i={...{title:"Chat",subtitle:"How can I help you?",placeholder:"Type your message...",theme:"light",colors:{primary:"#007bff",background:"#ffffff",userBubble:"#007bff",botBubble:"#f1f3f4",text:"#333333"},fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto", "Helvetica Neue", Arial, sans-serif',showTypingIndicator:!0,showTimestamps:!1,position:"bottom-right",width:350,height:500,zIndex:1e3,initialState:"open",showToggleButton:!1,popupMessage:"How can I help you?",enableFileUpload:!1,enableCamera:!1,enableAudio:!1,maxFileSize:10,maxFiles:5,allowedFileTypes:[]},...c},Pe=()=>{var n;(n=ue.current)==null||n.scrollIntoView()};p.useEffect(()=>{Pe()},[h]),p.useEffect(()=>{if(z){const n=setTimeout(()=>{U.current&&U.current.focus()},100);return()=>clearTimeout(n)}},[z]);const G=()=>`${Date.now()}-${Math.random()}`,we=async(n,m)=>{try{if(m){const u=new FormData;u.append("sessionId",D),u.append("chatInput",n),u.append("data",m.file);const w=await fetch(c.n8nWebhookUrl,{method:"POST",body:u});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const C=await w.json();return C.output||C.response||C.message||C.text||"Response received"}else{const u={sessionId:D,chatInput:n},w=await fetch(c.n8nWebhookUrl,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u)});if(!w.ok)throw new Error(`HTTP error! status: ${w.status}`);const C=await w.json();return C.output||C.response||C.message||C.text||"Response received"}}catch(u){throw console.error("Error sending to n8n:",u),u}},pe=p.useCallback(async()=>{if(!v.trim()&&R.length===0||b)return;sessionStorage.setItem("n8n-chat-popup-shown","true");const n=v.trim()||"",m=[...R];k(""),I([]),O(!0),c.showTypingIndicator&&P(!0);try{for(let u=0;u<m.length;u++){const w=m[u],S=u===m.length-1&&n?n:"",te={id:G(),type:"user",content:S,timestamp:new Date,files:[w]};o($=>[...$,te]),s==null||s(te);const Te=await we(S,w),re={id:G(),type:"bot",content:Te,timestamp:new Date};o($=>[...$,re]),s==null||s(re)}if(n&&m.length===0){const u={id:G(),type:"user",content:n,timestamp:new Date};o(S=>[...S,u]),s==null||s(u);const w=await we(n),C={id:G(),type:"bot",content:w,timestamp:new Date};o(S=>[...S,C]),s==null||s(C)}}catch(u){const w={id:G(),type:"bot",content:"Sorry, I encountered an error. Please try again.",timestamp:new Date};o(C=>[...C,w]),d==null||d(u)}finally{O(!1),P(!1),m.forEach(u=>URL.revokeObjectURL(u.url))}},[v,R,b,c,s,d]),_e=n=>{n.key==="Enter"&&!n.shiftKey&&(n.preventDefault(),pe())},je=p.useCallback(n=>{I(m=>[...m,...n].slice(0,i.maxFiles))},[i.maxFiles]),Ie=p.useCallback(n=>{I(m=>{const u=m.find(w=>w.id===n);return u&&URL.revokeObjectURL(u.url),m.filter(w=>w.id!==n)})},[]),Re=async()=>{if(!X.current||!fe.current)return;const n=X.current,m=fe.current,u=m.getContext("2d");u&&(m.width=n.videoWidth,m.height=n.videoHeight,u.drawImage(n,0,0),m.toBlob(async w=>{if(w){const C=new File([w],`photo-${Date.now()}.jpg`,{type:"image/jpeg"});try{const S=await ke(C);je([S])}catch(S){console.error("Error processing captured photo:",S),alert("Error processing captured photo")}}},"image/jpeg",.8),me())},me=()=>{var n;(n=X.current)!=null&&n.srcObject&&(X.current.srcObject.getTracks().forEach(u=>u.stop()),X.current.srcObject=null),T(!1)},se=async()=>{if(console.log("🎤 Starting audio recording..."),!MediaRecorder||!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.error("❌ MediaRecorder or getUserMedia not supported"),alert("Audio recording is not supported in this browser.");return}if(de.isArc){console.log("🌐 Arc browser detected - using enhanced audio recording...");try{if(navigator.permissions&&(await navigator.permissions.query({name:"microphone"})).state==="denied"){alert(`Microphone access is blocked in Arc. Please:
1. Click the shield icon in the address bar
2. Allow microphone access
3. Refresh the page`);return}}catch{console.log("🔧 Arc: Could not check microphone permissions, continuing...")}}try{console.log("🔍 Requesting microphone permission...");const n=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});console.log("✅ Microphone access granted");let m={};de.isArc?MediaRecorder.isTypeSupported("audio/webm;codecs=opus")?m.mimeType="audio/webm;codecs=opus":MediaRecorder.isTypeSupported("audio/mp4")&&(m.mimeType="audio/mp4"):MediaRecorder.isTypeSupported("audio/webm")&&(m.mimeType="audio/webm");const u=new MediaRecorder(n,m),w=[];u.ondataavailable=S=>{console.log("📊 Audio data available:",S.data.size,"bytes"),S.data.size>0&&w.push(S.data)},u.onstop=async()=>{console.log("🛑 Recording stopped, creating file...");const S=u.mimeType||"audio/wav",te=new Blob(w,{type:S}),Te=S.includes("webm")?"webm":"wav",re=new File([te],`recording-${Date.now()}.${Te}`,{type:S});console.log("📁 Created audio file:",re.name,re.size,"bytes");try{const $=await ke(re);sessionStorage.setItem("n8n-chat-popup-shown","true"),O(!0),c.showTypingIndicator&&P(!0);const Me={id:G(),type:"user",content:"",files:[$],timestamp:new Date};o(Ne=>[...Ne,Me]);const Z=new FormData;Z.append("sessionId",D),Z.append("chatInput",""),Z.append("data",$.file);const Se=await fetch(c.n8nWebhookUrl,{method:"POST",body:Z});if(!Se.ok)throw new Error(`HTTP error! status: ${Se.status}`);const ce=await Se.json(),De=ce.output||ce.response||ce.message||ce.text||"Response received",Ce={id:G(),type:"bot",content:De,timestamp:new Date};o(Ne=>[...Ne,Ce])}catch($){console.error("Error processing audio recording:",$),alert("Error processing audio recording")}finally{O(!1),P(!1)}n.getTracks().forEach($=>$.stop())},u.onerror=S=>{console.error("❌ Recording error:",S),alert("Recording failed. Please try again.")},u.start(1e3),Q(u),B(!0),q(0),console.log("🔴 Recording started");const C=setInterval(()=>{q(S=>S+1)},1e3);ne(C)}catch(n){console.error("❌ Error accessing microphone:",n);const m=n;m.name==="NotAllowedError"?alert("Microphone permission denied. Please allow microphone access and try again."):m.name==="NotFoundError"?alert("No microphone found. Please connect a microphone and try again."):alert(`Could not access microphone: ${m.message||"Unknown error"}`)}},he=()=>{M&&M.state==="recording"&&M.stop(),B(!1),Q(null),ee&&(clearInterval(ee),ne(null))},oe=()=>{M&&M.state==="recording"&&(M.onstop=null,M.stop(),M.stream&&M.stream.getTracks().forEach(n=>n.stop())),B(!1),Q(null),ee&&(clearInterval(ee),ne(null)),q(0)},Oe=n=>{const m=Math.floor(n/60),u=n%60;return`${m}:${u.toString().padStart(2,"0")}`},ke=async n=>{const m=()=>`${Date.now()}-${Math.random()}`,u=w=>w.type.startsWith("image/")?"image":w.type.startsWith("video/")?"video":w.type.startsWith("audio/")?"audio":"document";return{file:n,id:m(),type:u(n),url:URL.createObjectURL(n),name:n.name,size:n.size}},Ee=p.useCallback(()=>{f(n=>{const m=!n;return!m&&g&&g(),m})},[g]),We=i.position!=="inline"&&i.showToggleButton,ie=A&&t.jsx("div",{className:"camera-modal",children:t.jsxs("div",{className:"camera-container",children:[t.jsx("video",{ref:X,autoPlay:!0,playsInline:!0,className:"camera-video"}),t.jsx("canvas",{ref:fe,style:{display:"none"}}),t.jsxs("div",{className:"camera-controls",children:[t.jsx("button",{onClick:Re,className:"capture-button",children:t.jsx(vt,{size:24})}),t.jsx("button",{onClick:me,className:"close-camera-button",children:t.jsx(xe,{size:20})})]})]})});return We?t.jsxs(t.Fragment,{children:[ie,t.jsxs("div",{className:`chat-widget-container chat-widget-container--${i.position}${z?"":" chat-closed"}`,children:[t.jsx(Rt,{isOpen:z,onClick:Ee,position:i.position,primaryColor:i.colors.primary||"#007bff",popupMessage:i.popupMessage}),z&&t.jsxs("div",{ref:J,className:`chat-embed chat-embed--${i.theme} chat-embed--${i.position}${de.isMobile?" chat-embed--mobile":""} chat-embed--open`,style:{"--chat-primary":i.colors.primary,"--chat-background":i.colors.background,"--chat-user-bubble":i.colors.userBubble,"--chat-bot-bubble":i.colors.botBubble,"--chat-text":i.colors.text,"--chat-font-family":i.fontFamily,"--chat-width":`${i.width}px`,"--chat-height":`${i.height}px`,zIndex:i.zIndex},children:[t.jsxs("div",{className:"chat-embed__header",children:[t.jsxs("div",{className:"chat-embed__header-content",children:[t.jsx("h3",{className:"chat-embed__title",children:i.title}),i.subtitle&&t.jsx("p",{className:"chat-embed__subtitle",children:i.subtitle})]}),i.position!=="inline"&&t.jsx("button",{className:"chat-embed__close-button",onClick:Ee,"aria-label":"Close chat",children:t.jsx(xe,{size:18})})]}),t.jsxs("div",{className:"chat-embed__messages",children:[h.map(n=>t.jsx(ze,{message:n,showTimestamp:i.showTimestamps},n.id)),t.jsx(Le,{visible:_}),t.jsx("div",{ref:ue})]}),t.jsxs("div",{className:"chat-embed__input-area",children:[R.length>0&&t.jsx(et,{files:R,onRemoveFile:Ie}),t.jsx("div",{className:`chat-embed__input-row ${L?"chat-embed__input-row--recording":""}`,children:L?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:oe,className:"upload-button",title:"Stop and discard recording",disabled:b,children:t.jsx(Qe,{size:18})}),t.jsxs("div",{className:"recording-time-display",children:[t.jsx("div",{className:"recording-indicator"}),Oe(ae)]}),t.jsx("button",{className:"chat-embed__send-button",onClick:he,disabled:b,title:"Stop recording and send",children:t.jsx(Fe,{size:18,className:"chat-embed__send-icon"})})]}):t.jsxs(t.Fragment,{children:[i.enableFileUpload&&t.jsx(qe,{onFilesSelected:je,maxFiles:i.maxFiles,maxFileSize:i.maxFileSize,allowedTypes:i.allowedFileTypes}),t.jsx("textarea",{ref:U,className:"chat-embed__input",value:v,onChange:n=>k(n.target.value),onKeyPress:_e,placeholder:i.placeholder,disabled:b,rows:1,style:{resize:"none"}}),v.trim()||R.length>0?t.jsx("button",{className:"chat-embed__send-button",onClick:pe,disabled:b||!v.trim()&&R.length===0,children:b?t.jsx("div",{className:"chat-embed__loading-spinner"}):t.jsx(Fe,{size:18,className:"chat-embed__send-icon"})}):t.jsxs(t.Fragment,{children:[i.enableCamera&&!1,i.enableAudio&&t.jsx("button",{onClick:se,className:"upload-button",title:"Record audio",disabled:b,children:t.jsx(Ze,{size:18})})]})]})})]})]})]})]}):t.jsxs(t.Fragment,{children:[ie,t.jsxs("div",{ref:J,className:`chat-embed chat-embed--${i.theme} chat-embed--${i.position}${de.isMobile?" chat-embed--mobile":""}`,style:{"--chat-primary":i.colors.primary,"--chat-background":i.colors.background,"--chat-user-bubble":i.colors.userBubble,"--chat-bot-bubble":i.colors.botBubble,"--chat-text":i.colors.text,"--chat-font-family":i.fontFamily,"--chat-width":`${i.width}px`,"--chat-height":`${i.height}px`,zIndex:i.zIndex},children:[t.jsxs("div",{className:"chat-embed__header",children:[t.jsxs("div",{className:"chat-embed__header-content",children:[t.jsx("h3",{className:"chat-embed__title",children:i.title}),i.subtitle&&t.jsx("p",{className:"chat-embed__subtitle",children:i.subtitle})]}),i.position!=="inline"&&t.jsx("button",{className:"chat-embed__close-button",onClick:Ee,"aria-label":"Close chat",children:t.jsx(xe,{size:18})})]}),t.jsxs("div",{className:"chat-embed__messages",children:[h.map(n=>t.jsx(ze,{message:n,showTimestamp:i.showTimestamps},n.id)),t.jsx(Le,{visible:_}),t.jsx("div",{ref:ue})]}),t.jsxs("div",{className:"chat-embed__input-area",children:[R.length>0&&t.jsx(et,{files:R,onRemoveFile:Ie}),t.jsx("div",{className:`chat-embed__input-row ${L?"chat-embed__input-row--recording":""}`,children:L?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:oe,className:"upload-button",title:"Stop and discard recording",disabled:b,children:t.jsx(Qe,{size:18})}),t.jsxs("div",{className:"recording-time-display",children:[t.jsx("div",{className:"recording-indicator"}),Oe(ae)]}),t.jsx("button",{className:"chat-embed__send-button",onClick:he,disabled:b,title:"Stop recording and send",children:t.jsx(Fe,{size:18,className:"chat-embed__send-icon"})})]}):t.jsxs(t.Fragment,{children:[i.enableFileUpload&&t.jsx(qe,{onFilesSelected:je,maxFiles:i.maxFiles,maxFileSize:i.maxFileSize,allowedTypes:i.allowedFileTypes}),t.jsx("textarea",{ref:U,className:"chat-embed__input",value:v,onChange:n=>k(n.target.value),onKeyPress:_e,placeholder:i.placeholder,disabled:b,rows:1,style:{resize:"none"}}),v.trim()||R.length>0?t.jsx("button",{className:"chat-embed__send-button",onClick:pe,disabled:b||!v.trim()&&R.length===0,children:b?t.jsx("div",{className:"chat-embed__loading-spinner"}):t.jsx(Fe,{size:18,className:"chat-embed__send-icon"})}):t.jsxs(t.Fragment,{children:[i.enableCamera&&!1,i.enableAudio&&t.jsx("button",{onClick:se,className:"upload-button",title:"Record audio",disabled:b,children:t.jsx(Ze,{size:18})})]})]})})]})]})]})},qt="";K.ChatEmbed=kt,K.MessageBubble=ze,K.TypingIndicator=Le,K.useDeviceDetection=rt,Object.defineProperty(K,Symbol.toStringTag,{value:"Module"})});
